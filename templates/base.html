{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
   
    <title>
    {% block title %} 
    {% if user.is_authenticated %}
    Streamer
    {% else %}
    Login Page
    {% endif %}
    {% endblock title %}   
    </title>
    <link rel="icon" href="{% static './assets/img/logoS.png' %}" type="image/x-icon" />

    <meta charset="utf-8" />
    <meta name="google" content="notranslate" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!--Add bootstrap-->
    <link
      rel="stylesheet"
      href='{% static  "./assets/bootstrap/css/bootstrap.min.css" %}'
    />
    <link
      rel="stylesheet"
      href='{% static "./assets/bootstrap/css/Bootsrap-css.css" %}'
    />
    <!--add font awesome-->
    <script src="https://use.fontawesome.com/07ba2c9b73.js"></script>
    <!--Bootstrap Social media icon-->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-social/5.1.1/bootstrap-social.css"
    />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!--using custom style css>
    <link rel="stylesheet" href="./assets/css/style.css" />
    <link rel="stylesheet" href="./assets/css/responsive.css" /-->
    <link rel="stylesheet" href="{% static "./css/base.css" %}">
  </head>
  <body>
    <style>
      body {
        font-family: "Lato", sans-serif;
        font-size: 17px;
        background-color: #D0D3D4; 
      }
      .navbar{
        background-color: #f8f8fb;
        position: fixed;
      }
      .navbar-brand {
        font-family: "Peralta", cursive;
      }
      a.navbar-brand {
        color: #2a3042;
        text-transform: uppercase;
      }
      a.navbar-brand:hover {
        color: #abb2b9;
        text-transform: uppercase;
      }
      .navbar_icon{
        margin-left: 20px;
        text-transform: uppercase;
        color:#2a3042;
      }
      a.nav-link {
        color: #2a3042;
        text-decoration: none;
      }
      a.nav-link:hover {
        color: #abb2b9;
        text-decoration: none;
      }
      .shadow {
        box-shadow: 0 4px 2px -2px rgba(0, 0, 0, 0.1);
      }
      .btn-danger {
        color: #fff;
        background-color: #f00000;
        border-color: #dc281e;
      }

      .masthead {
        background: #3398e1;
        height: auto;
        padding-bottom: 15px;
        box-shadow: 0 16px 48px #e3e7eb;
        padding-top: 10px;
      }
      .sidenav {
        height: 100%;
        width: 250px;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color:#17202A;
        overflow-x: hidden;
        padding-top: 20px;
      }
      
      .sidenav a,
      .dropdown-btn {
        padding: 6px 8px 6px 16px;
        text-decoration: none;
        font-size: 18px;
        color: #D0D3D4; 
        display: block;
        border: none;
        background: none;
        width: 100%;
        text-align: left;
        cursor: pointer;
        outline: none;
      }

      /* On mouse-over */
      .sidenav a:hover,
      .dropdown-btn:hover {
        color: #f1f1f1;
      }


      @media screen and (max-height: 450px) {
        .sidenav {
          padding-top: 15px;
        }
        .sidenav a {
          font-size: 18px;
        }
      }
      
      .dropdown-container {
        display: none;
        padding-left: 8px;
      }
      /* Optional: Style the caret down icon */
      .fa-caret-down {
        float: right;
        padding-right: 8px;
      }
      .sidebar-btn{
        padding: 6px 8px 6px 16px;
        text-decoration: none;
        font-size: 18px;
        color: #818181;
        display: block;
        border: none;
        background: none;
        width: 100%;
        text-align: left;
        cursor: pointer;
        outline: none;
      }
      .sidebar-btn:hover{
        color:#17202a;
        background-color: #566573;
      }
      .sidebar-btn:hover a{
        color:#17202a;
      }
      .subscriptionsstyle li {
        color: #abb2b9;
        list-style-type: none;
      }
      .dropdown-menu{
        background-color:  #f8f8fb;
        
      }
      a.dropdown-item{
        color: #2a3042;
      }
      a.dropdown-item:hover{
        background-color: #2a3042;
        color:  #f8f8fb;
      }
      .collapse{
        padding-left: 280px;
      }
      .search_style{
        padding-left: 580px;
      }
      ul.subscriptionsstyle li {
        text-decoration: none;
        list-style-type: none;
        padding-top: 10px;
        padding-bottom: 10px;
      }
      footer.footer{
        background-color: #f8f8fb; 
        color: #17202a;

      }
      a.logout_style:hover{
        background-color: red;
      }
    </style>
    <!-- Navigation -->
      <nav
        class="navbar navbar-expand-sm shadow fixed-top"
        id="mainNav">
        <div class="container-fluid">
          <div id="mySidenav" class="sidenav">
            <div class="row">
              <div class="navbar_icon">
                <a href="{% url 'home' %}">
                    &nbsp; Streamer
                </a>
              </div>            
            </div>
            <!--sidebar button-->
            <br>
            <button class="sidebar-btn">
              <a href="{% url 'home' %}"><i class="fa fa-home fa-lg" aria-hidden="true"></i>&nbsp;Home </a>
            </button>
            <!--button class="sidebar-btn">
              <a href="#services"><i class="fa fa-tint fa-lg" aria-hidden="true"></i>&nbsp;Trending</a>
            </button-->
            <button class="sidebar-btn">
              <a href="{% url 'subscription_view' %}"><i class="fa fa-youtube-play fa-lg" aria-hidden="true"></i>&nbsp;Subscriptions</a>
            </button>
            <button class="sidebar-btn">
              <a href="{% url 'history' %}"><i class="fa fa-history fa-lg" aria-hidden="true"></i>&nbsp;History </a>
            </button>
            {% if user.is_authenticated %}
              <div></div>
            {% else %}
            <hr>
              <h5 style="padding-left: 50px; color: #abb2b9; font-size: 18px; ">SUBSCRIPTIONS</h5>
              <ul class="subscriptionsstyle">
                  <p style="color: #abb2b9; ">Sign in to like videos, comment, and subscribe.</p>
                  <a style="border:solid;" href="{% url 'login' %}"><i class="fa fa-user-circle" aria-hidden="true"></i>&nbsp;Login</a>
              </ul>
            {% endif %}
            <div style="margin-top: 450px; position: fixed; bottom: 0;">
              <div>
                <!--a href="#"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;  New Group</a>
                <a href="#"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;  New List</a-->
                <!-- Footer -->
                <!--footer>
                  <p>
                    Copyright &copy; 2020 Sohag All Right Reserved
                  </p>
                </footer-->
              </div>
            </div>
            <script>
              var dropdown = document.getElementsByClassName("dropdown-btn");
              var i;

              for (i = 0; i < dropdown.length; i++) {
                dropdown[i].addEventListener("click", function () {
                  this.classList.toggle("active");
                  var dropdownContent = this.nextElementSibling;
                  if (dropdownContent.style.display === "block") {
                    dropdownContent.style.display = "none";
                  } else {
                    dropdownContent.style.display = "block";
                  }
                });
              }
            </script>
          </div>
            <!--a class="navbar-brand" href="{% url 'home' %}" style="margin-left: 350px"> Sohag TodoList </a-->
            <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
              <!--li class="nav-item">
                <a class="nav-link" href="#"
                  >Browse <span class="sr-only">(current)</span></a
                >
              </li-->
              <!--li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdown"
                  role="button"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  Category
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="#">Game</a>
                  <a class="dropdown-item" href="#">Music</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="#">Something else here</a>
                </div>
              </li-->
            </ul>
            <form
                action="{% url 'search' %}" 
                method="GET"
                class="form-inline my-2 my-lg-0 search_style"
                >
                {% csrf_token %}
              <input
                class="form-control mr-sm-2"
                type="search"
                name="q"
                placeholder="Search.."
                aria-label="Search"
                style="border-radius: 10px;"
              />
              <button class="btn btn-secondary my-2 my-sm-0" type="submit" style="border-radius: 10px;">
                <i class="fa fa-search"></i>
              </button>
            </form>
          </div>
            <div class="navbar-nav ml-auto row">
              <div class="nav-item col col-md col-xl">
                {% if user.is_authenticated %}
                <ul class="navbar-nav ml-auto">
                  <li class="nav-item dropdown">
                    <a
                    class="nav-link dropdown-toggle"
                    href="#"
                    id="userMenu"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                    >
                    <i class="fa fa-user-circle" aria-hidden="true"></i>
                    {{ user.username }}
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" style="border-radius: 15px;" aria-labelledby="userMenu" style="font-size: 16px;">
                      <!--a class="dropdown-item" href="{% url 'dashboard' %}">My account</a-->
                        <a class="dropdown-item"style="border-radius: 10px;" href="{% url 'dashboard' %}">MyChannel</a>
                      <div class="dropdown-divider"></div>
                        <a class="dropdown-item logout_style" style="border-radius: 10px;" href="{% url 'logout' %}">Log out</a>
                    </div>
                  </li>
                </ul>
                {% else %}
                <form class="form-inline ml-auto">
                  <a href="{% url 'login' %}" class="btn btn-danger" style="border-radius: 10px;">Log in</a>
                  <a href="{% url 'signup' %}" class="btn btn-primary ml-2 text-light" style="border-radius: 10px;">Sign up</a> 
                </form>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
      </nav>
      {% block content %}
      {% endblock content %}
      <!-- Footer -->
      <footer class="py-3 footer" style="margin-top: 0px">
        <p class="text-center" style="margin-top: 2px;">
          Copyright &copy; 2020 Streamer All Right Reserved
        </p>
      </footer>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src='{% static "./assets/jquery/jquery-3.5.1.min.js" %}'></script>
    <script src='{% static "./assets/jquery/popper.min.js" %}'></script>
    <script src='{% static "./assets/bootstrap/js/bootstrap.min.js" %}'></script>
  </body>
</html>
